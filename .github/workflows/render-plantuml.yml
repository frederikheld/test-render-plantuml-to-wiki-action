name: Render PlantUML

on:
  push:
    branches: 
      - main

jobs:
  test-output-formats:
    runs-on: ubuntu-latest
    # env:
      # ACTION_UNDER_TEST: "rotarur/render-plantuml-to-wiki-action@master"
      # ACTION_UNDER_TEST: frederikheld/render-plantuml-to-wiki-action@v1.0.2

    steps:
    - uses: actions/checkout@v2

    - name: Test output format PNG (default)
      uses: v
      with: 
        WIKI_TOKEN: ${{ secrets.WIKI_TOKEN }}
        INPUT_DIR: diagrams
        OUTPUT_DIR: attachments/auto-generated/diagrams/png-default

    # - name: Test output format PNG (explicit)
    #   uses: ${{ env.ACTION_UNDER_TEST }}
    #   with: 
    #     WIKI_TOKEN: ${{ secrets.WIKI_TOKEN }}
    #     INPUT_DIR: diagrams
    #     OUTPUT_DIR: attachments/auto-generated/diagrams/png
    #     OUTPUT_FORMAT: PNG

    # - name: Test output format SVG
    #   uses: ${{ env.ACTION_UNDER_TEST }}
    #   with: 
    #     WIKI_TOKEN: ${{ secrets.WIKI_TOKEN }}
    #     INPUT_DIR: diagrams
    #     OUTPUT_DIR: attachments/auto-generated/diagrams/svg
    #     OUTPUT_FORMAT: SVG

    # - name: Test output format PDF
    #   uses: ${{ env.ACTION_UNDER_TEST }}
    #   with: 
    #     WIKI_TOKEN: ${{ secrets.WIKI_TOKEN }}
    #     INPUT_DIR: diagrams
    #     OUTPUT_DIR: attachments/auto-generated/diagrams/pdf
    #     OUTPUT_FORMAT: PDF

    # - name: Test output format EPS
    #   uses: ${{ env.ACTION_UNDER_TEST }}
    #   with: 
    #     WIKI_TOKEN: ${{ secrets.WIKI_TOKEN }}
    #     INPUT_DIR: diagrams
    #     OUTPUT_DIR: attachments/auto-generated/diagrams/eps
    #     OUTPUT_FORMAT: EPS
        